<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EAO package &mdash; EAO  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Samples" href="samples.html" />
    <link rel="prev" title="Welcome to the Energy Asset Optimization (EAO) documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            EAO
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">EAO package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-eaopack.assets">Assets</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-eaopack.portfolio">Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-eaopack.optimization">Optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-eaopack.basic_classes">Basic classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-eaopack.io">Input and output</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-eaopack.serialization">Serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-eaopack.stoch_lin_prog">Stochastic linear program</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-eaopack.network_graphs">Network graphs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="samples.html">Samples</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">EAO</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">EAO package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/eao.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="eao-package">
<h1>EAO package<a class="headerlink" href="#eao-package" title="Permalink to this heading"></a></h1>
<section id="module-eaopack.assets">
<span id="assets"></span><h2>Assets<a class="headerlink" href="#module-eaopack.assets" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="eaopack.assets.Asset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Asset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'default_name'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes:</span> <span class="pre">~typing.Union[~eaopack.basic_classes.Node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~typing.List[~eaopack.basic_classes.Node]]</span> <span class="pre">=</span> <span class="pre">&lt;eaopack.basic_classes.Node</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start:</span> <span class="pre">~typing.Optional[~datetime.datetime]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end:</span> <span class="pre">~typing.Optional[~datetime.datetime]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wacc:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile:</span> <span class="pre">~typing.Optional[~pandas.core.series.Series]</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.assets.Asset" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Asset parent class. Defines all basic methods and properties of an asset
In particular ‘setup_optim_problem’ makes a particular asset such as storage or contract</p>
<p>The base class to define an asset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the asset. Must be unique in a portfolio</p></li>
<li><p><strong>nodes</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em>) – Nodes, in which the asset has a dispatch. Defaults to “default node”</p></li>
<li><p><strong>start</strong> (<em>dt.datetime</em>) – start of asset being active. defaults to none (-&gt; timegrid start relevant)</p></li>
<li><p><strong>end</strong> (<em>dt.datetime</em>) – end of asset being active. defaults to none (-&gt; timegrid start relevant)</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a>) – Grid for discretization</p></li>
<li><p><strong>wacc</strong> (<em>float</em><em>, </em><em>optional</em>) – WACC to discount the cash flows as the optimization target. Defaults to 0.</p></li>
<li><p><strong>freq</strong> (<em>str</em><em>, </em><em>optional</em>) – Frequency for optimization - in case different from portfolio (defaults to None, using portfolio’s freq)
The more granular frequency of portf &amp; asset is used</p></li>
<li><p><strong>profile</strong> (<em>pd.Series</em><em>, </em><em>optional</em>) – If freq(asset) &gt; freq(portf) assuming this profile for granular dispatch (e.g. scaling hourly profile to week).
Defaults to None, only relevant if freq is not none</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="eaopack.assets.Asset.convert_to_timegrid_freq">
<span class="sig-name descname"><span class="pre">convert_to_timegrid_freq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">round</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#eaopack.assets.Asset.convert_to_timegrid_freq" title="Permalink to this definition"></a></dt>
<dd><p>Convert time_value from the old_freq to the timegrid.freq</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_value</strong> (<em>float</em>) – The time value in timegrid.main_time_unit</p></li>
<li><p><strong>attribute_name</strong> (<em>str</em>) – The name of the attribute to be converted (only relevant for more specific warning)</p></li>
<li><p><strong>old_freq</strong> (<em>str</em>) – The old freg. If this is None the timegrids main_time_unit is used. Defaults to None.</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a>) – The timegrid from with main_time_unit and freq are used. If timegrid is None,
the asset’s own timegrid self.timegrid is taken instead. Defaults to None.</p></li>
<li><p><strong>round</strong> – If true the result is rounded to the next highest integer.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>time_value converted to timegrid.freq</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>converted_time_value</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="eaopack.assets.Asset.dcf">
<span class="sig-name descname"><span class="pre">dcf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">optim_problem</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><span class="pre">OptimProblem</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">results</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#eaopack.optimization.Results" title="eaopack.optimization.Results"><span class="pre">Results</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">array</span></span></span><a class="headerlink" href="#eaopack.assets.Asset.dcf" title="Permalink to this definition"></a></dt>
<dd><p>Calculate discounted cash flow for the asset given the optimization results</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>optim_problem</strong> (<a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><em>OptimProblem</em></a>) – optimization problem created by this asset</p></li>
<li><p><strong>results</strong> (<a class="reference internal" href="#eaopack.optimization.Results" title="eaopack.optimization.Results"><em>Results</em></a>) – Results given by optimizer</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>array with DCF per time step as per timegrid of asset</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="eaopack.assets.Asset.node_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">node_names</span></span><a class="headerlink" href="#eaopack.assets.Asset.node_names" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="eaopack.assets.Asset.set_timegrid">
<span class="sig-name descname"><span class="pre">set_timegrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.assets.Asset.set_timegrid" title="Permalink to this definition"></a></dt>
<dd><p>Set the timegrid for the asset
:param timegrid: The timegrid to be set
:type timegrid: Timegrid</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="eaopack.assets.Asset.setup_optim_problem">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">setup_optim_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">costs_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><span class="pre">OptimProblem</span></a></span></span><a class="headerlink" href="#eaopack.assets.Asset.setup_optim_problem" title="Permalink to this definition"></a></dt>
<dd><p>set up optimization problem for the asset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prices</strong> (<em>dict</em>) – dictionary of price np.arrays. dict must contain a key that corresponds
to str “price” in asset (if prices are required by the asset)</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a>) – Grid to be used for optim problem. Defaults to none</p></li>
<li><p><strong>costs_only</strong> (<em>bool</em>) – Only create costs vector (speed up e.g. for sampling prices). Defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Optimization problem that may be used by optimizer</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem">OptimProblem</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="eaopack.assets.CHPAsset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CHPAsset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'default_name_contract',</span> <span class="pre">nodes:</span> <span class="pre">~typing.List[~eaopack.basic_classes.Node]</span> <span class="pre">=</span> <span class="pre">[&lt;eaopack.basic_classes.Node</span> <span class="pre">object&gt;,</span> <span class="pre">&lt;eaopack.basic_classes.Node</span> <span class="pre">object&gt;],</span> <span class="pre">start:</span> <span class="pre">~typing.Optional[~datetime.datetime]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">end:</span> <span class="pre">~typing.Optional[~datetime.datetime]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">wacc:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0,</span> <span class="pre">price:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">extra_costs:</span> <span class="pre">~typing.Union[float,</span> <span class="pre">~typing.Dict,</span> <span class="pre">str]</span> <span class="pre">=</span> <span class="pre">0.0,</span> <span class="pre">min_cap:</span> <span class="pre">~typing.Union[float,</span> <span class="pre">~typing.Dict,</span> <span class="pre">str]</span> <span class="pre">=</span> <span class="pre">0.0,</span> <span class="pre">max_cap:</span> <span class="pre">~typing.Union[float,</span> <span class="pre">~typing.Dict,</span> <span class="pre">str]</span> <span class="pre">=</span> <span class="pre">0.0,</span> <span class="pre">min_take:</span> <span class="pre">~typing.Optional[dict]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">max_take:</span> <span class="pre">~typing.Optional[dict]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">freq:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">profile:</span> <span class="pre">~typing.Optional[~pandas.core.series.Series]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">periodicity:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">periodicity_duration:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">conversion_factor_power_heat:</span> <span class="pre">~typing.Union[float,</span> <span class="pre">~typing.Dict,</span> <span class="pre">str]</span> <span class="pre">=</span> <span class="pre">1.0,</span> <span class="pre">max_share_heat:</span> <span class="pre">~typing.Optional[~typing.Union[float,</span> <span class="pre">~typing.Dict,</span> <span class="pre">str]]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">ramp:</span> <span class="pre">~typing.Optional[float]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">start_costs:</span> <span class="pre">~typing.Union[float,</span> <span class="pre">~typing.Sequence[float],</span> <span class="pre">~typing.Dict]</span> <span class="pre">=</span> <span class="pre">0.0,</span> <span class="pre">running_costs:</span> <span class="pre">~typing.Union[float,</span> <span class="pre">~typing.Dict,</span> <span class="pre">str]</span> <span class="pre">=</span> <span class="pre">0.0,</span> <span class="pre">min_runtime:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0,</span> <span class="pre">time_already_running:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0,</span> <span class="pre">min_downtime:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0,</span> <span class="pre">time_already_off:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0,</span> <span class="pre">last_dispatch:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0,</span> <span class="pre">start_ramp_lower_bounds:</span> <span class="pre">~typing.Optional[~typing.Sequence]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">start_ramp_upper_bounds:</span> <span class="pre">~typing.Optional[~typing.Sequence]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">shutdown_ramp_lower_bounds:</span> <span class="pre">~typing.Optional[~typing.Sequence]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">shutdown_ramp_upper_bounds:</span> <span class="pre">~typing.Optional[~typing.Sequence]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">ramp_freq:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">start_fuel:</span> <span class="pre">~typing.Union[float,</span> <span class="pre">~typing.Dict,</span> <span class="pre">str]</span> <span class="pre">=</span> <span class="pre">0.0,</span> <span class="pre">fuel_efficiency:</span> <span class="pre">~typing.Union[float,</span> <span class="pre">~typing.Dict,</span> <span class="pre">str]</span> <span class="pre">=</span> <span class="pre">1.0,</span> <span class="pre">consumption_if_on:</span> <span class="pre">~typing.Union[float,</span> <span class="pre">~typing.Dict,</span> <span class="pre">str]</span> <span class="pre">=</span> <span class="pre">0.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.assets.CHPAsset" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#eaopack.assets.Contract" title="eaopack.assets.Contract"><code class="xref py py-class docutils literal notranslate"><span class="pre">Contract</span></code></a></p>
<dl class="simple">
<dt>CHPContract: Generate heat and power</dt><dd><p>Restrictions
- time dependent capacity restrictions
- MinTake &amp; MaxTake for a list of periods
- start costs
- minimum runtime
- ramps</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Unique name of the asset                                              (asset parameter)</p></li>
<li><p><strong>nodes</strong> (<a class="reference internal" href="#eaopack.basic_classes.Node" title="eaopack.basic_classes.Node"><em>Node</em></a>) – One node each for generated power and heat                          (asset parameter)
optional: node for fuel (e.g. gas)</p></li>
<li><p><strong>start</strong> (<em>dt.datetime</em>) – start of asset being active. defaults to none (-&gt; timegrid start relevant)</p></li>
<li><p><strong>end</strong> (<em>dt.datetime</em>) – end of asset being active. defaults to none (-&gt; timegrid start relevant)</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a>) – Timegrid for discretization                                  (asset parameter)</p></li>
<li><p><strong>wacc</strong> (<em>float</em>) – Weighted average cost of capital to discount cash flows in target   (asset parameter)</p></li>
<li><p><strong>freq</strong> (<em>str</em><em>, </em><em>optional</em>) – Frequency for optimization - in case different from portfolio (defaults to None, using portfolio’s freq)
The more granular frequency of portf &amp; asset is used</p></li>
<li><p><strong>profile</strong> (<em>pd.Series</em><em>, </em><em>optional</em>) – If freq(asset) &gt; freq(portf) assuming this profile for granular dispatch (e.g. scaling hourly profile to week).
Defaults to None, only relevant if freq is not none</p></li>
<li><p><strong>min_cap</strong> (<em>float</em>) – Minimum capacity for generating virtual dispatch (power + conversion_factor_power_heat * heat). Has to be greater or equal to 0. Defaults to 0.</p></li>
<li><p><strong>max_cap</strong> (<em>float</em>) – Maximum capacity for generating virtual dispatch (power + conversion_factor_power_heat * heat). Has to be greater or equal to 0. Defaults to 0.</p></li>
<li><p><strong>min_take</strong> (<em>float</em>) – Minimum volume within given period. Defaults to None</p></li>
<li><p><strong>max_take</strong> (<em>float</em>) – <p>Maximum volume within given period. Defaults to None
float: constant value
dict:  dict[‘start’] = np.array</p>
<blockquote>
<div><p>dict[‘end’]   = np.array
dict[‘value’] = np.array</p>
</div></blockquote>
</p></li>
<li><p><strong>price</strong> (<em>str</em>) – Name of price vector for buying / selling</p></li>
<li><p><strong>extra_costs</strong> (<em>float</em><em>, </em><em>dict</em><em>, </em><em>str</em>) – <p>extra costs added to price vector (in or out). Defaults to 0.
float: constant value
dict:  dict[‘start’] = array</p>
<blockquote>
<div><p>dict[‘end’]   = array
dict[‘value’] = array</p>
</div></blockquote>
<p>str:   refers to column in “prices” data that provides time series to set up OptimProblem (as for “price” below)</p>
</p></li>
<li><p><strong>periodicity</strong> (<em>str</em><em>, </em><em>pd freq style</em>) – Makes assets behave periodicly with given frequency. Periods are repeated up to freq intervals (defaults to None)</p></li>
<li><p><strong>periodicity_duration</strong> (<em>str</em><em>, </em><em>pd freq style</em>) – Intervals in which periods repeat (e.g. repeat days ofer whole weeks)  (defaults to None)</p></li>
<li><p><strong>conversion_factor_power_heat</strong> (<em>float</em><em>, </em><em>dict</em><em>, </em><em>str</em>) – Conversion efficiency from heat to power. Defaults to 1.</p></li>
<li><p><strong>max_share_heat</strong> (<em>float</em><em>, </em><em>dict</em><em>, </em><em>str</em>) – Defines upper bound for the heat dispatch as a percentage of the power dispatch. Defaults to 1.</p></li>
<li><p><strong>ramp</strong> (<em>float</em>) – Maximum increase/decrease of virtual dispatch (power + conversion_factor_power_heat * heat) in one timestep. Defaults to 1.</p></li>
<li><p><strong>start_costs</strong> (<em>float</em>) – Costs for starting. Defaults to 0.</p></li>
<li><p><strong>running_costs</strong> (<em>float</em>) – Costs when on. Defaults to 0.</p></li>
<li><p><strong>min_runtime</strong> (<em>int</em>) – Minimum runtime in timegrids main_time_unit. (start ramp time and shutdown ramp time do not count towards the min runtime.) Defaults to 0.</p></li>
<li><p><strong>time_already_running</strong> (<em>int</em>) – The number of timesteps the asset is already running in timegrids main_time_unit. Defaults to 0.</p></li>
<li><p><strong>min_downtime</strong> (<em>int</em>) – Minimum downtime in timegrids main_time_unit. Defaults to 0.</p></li>
<li><p><strong>time_already_off</strong> (<em>int</em>) – The number of timesteps the asset has already been off in timegrids main_time_unit. Defaults to 0.</p></li>
<li><p><strong>last_dispatch</strong> (<em>float</em>) – Previous virtual dispatch (power + conversion_factor_power_heat * heat). Defaults to 0.</p></li>
<li><p><strong>start_ramp_lower_bounds</strong> (<em>Sequence</em>) – The i-th element of this sequence specifies a lower bound of the
virtual dispatch (power + conversion_factor_power_heat * heat) at i timesteps
of freq ramp_freq after starting.  Defaults to None.</p></li>
<li><p><strong>start_ramp_upper_bounds</strong> (<em>Sequence</em>) – The i-th element of this sequence specifies an upper bound of the
virtual dispatch (power + conversion_factor_power_heat * heat) at i timesteps
of freq ramp_freq after starting.  Defaults to None.</p></li>
<li><p><strong>shutdown_ramp_lower_bounds</strong> (<em>Sequence</em>) – The i-th element of this sequence specifies a lower bound of the
virtual dispatch (power + conversion_factor_power_heat * heat) at i timesteps
of freq ramp_freq before turning off. Defaults to None.</p></li>
<li><p><strong>shutdown_ramp_upper_bounds</strong> (<em>Sequence</em>) – The i-th element of this sequence specifies an upper bound of the
virtual dispatch (power + conversion_factor_power_heat * heat) at i timesteps
of freq ramp_freq before turning off. If it is None, it is set equal to shutdown_ramp_upper_bounds.
Defaults to None.</p></li>
<li><p><strong>ramp_freq</strong> (<em>str</em>) – A string specifying the frequency of the start-and shutdown ramp specification.
If this is None, the timegrids main_time_unit is used. Otherwise the start and shutdown ramps are
interpolated to get values in the timegrids freq.</p></li>
<li><p><strong>Optional</strong> – Explicit fuel consumption (e.g. gas) for multi-commodity simulation
start_fuel (float, dict, str): detaults to  0
fuel_efficiency (float, dict, str): defaults to 1
consumption_if_on (float, dict, str): defaults to 0</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="eaopack.assets.CHPAsset.setup_optim_problem">
<span class="sig-name descname"><span class="pre">setup_optim_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">costs_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><span class="pre">OptimProblem</span></a></span></span><a class="headerlink" href="#eaopack.assets.CHPAsset.setup_optim_problem" title="Permalink to this definition"></a></dt>
<dd><p>Set up optimization problem for asset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prices</strong> (<em>dict</em>) – Dictionary of price arrays needed by assets in portfolio</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a><em>, </em><em>optional</em>) – Discretization grid for asset. Defaults to None,
in which case it must have been set previously</p></li>
<li><p><strong>costs_only</strong> (<em>bool</em>) – Only create costs vector (speed up e.g. for sampling prices). Defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Optimization problem to be used by optimizer</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem">OptimProblem</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="eaopack.assets.CHPAsset_with_min_load_costs">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CHPAsset_with_min_load_costs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_load_threshhold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_load_costs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.assets.CHPAsset_with_min_load_costs" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#eaopack.assets.CHPAsset" title="eaopack.assets.CHPAsset"><code class="xref py py-class docutils literal notranslate"><span class="pre">CHPAsset</span></code></a></p>
<dl class="simple">
<dt>CHPContract with additional Min Load costs:</dt><dd><p>adding costs when running below a threshhold capacity</p>
</dd>
</dl>
<p>Args:</p>
<p>CHPAsset arguments</p>
<p>additional:</p>
<p>min_load_threshhold (float: optional): capacity below which additional costs apply
min_load_costs      (float: optional): costs that apply below a threshhold (fixed costs “is below * costs” independend of capacity)</p>
<dl class="py method">
<dt class="sig sig-object py" id="eaopack.assets.CHPAsset_with_min_load_costs.setup_optim_problem">
<span class="sig-name descname"><span class="pre">setup_optim_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">costs_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><span class="pre">OptimProblem</span></a></span></span><a class="headerlink" href="#eaopack.assets.CHPAsset_with_min_load_costs.setup_optim_problem" title="Permalink to this definition"></a></dt>
<dd><p>Set up optimization problem for asset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prices</strong> (<em>dict</em>) – Dictionary of price arrays needed by assets in portfolio</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a><em>, </em><em>optional</em>) – Discretization grid for asset. Defaults to None,
in which case it must have been set previously</p></li>
<li><p><strong>costs_only</strong> (<em>bool</em>) – Only create costs vector (speed up e.g. for sampling prices). Defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Optimization problem to be used by optimizer</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem">OptimProblem</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="eaopack.assets.Contract">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Contract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'default_name_contract'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes:</span> <span class="pre">~eaopack.basic_classes.Node</span> <span class="pre">=</span> <span class="pre">&lt;eaopack.basic_classes.Node</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start:</span> <span class="pre">~typing.Optional[~datetime.datetime]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end:</span> <span class="pre">~typing.Optional[~datetime.datetime]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wacc:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_costs:</span> <span class="pre">~typing.Union[float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~typing.Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">=</span> <span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_cap:</span> <span class="pre">~typing.Union[float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~typing.Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">=</span> <span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cap:</span> <span class="pre">~typing.Union[float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~typing.Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">=</span> <span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_take:</span> <span class="pre">~typing.Optional[dict]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_take:</span> <span class="pre">~typing.Optional[dict]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile:</span> <span class="pre">~typing.Optional[~pandas.core.series.Series]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">periodicity:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">periodicity_duration:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.assets.Contract" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#eaopack.assets.SimpleContract" title="eaopack.assets.SimpleContract"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleContract</span></code></a></p>
<p>Contract Class, as an extension of the SimpleContract</p>
<dl class="simple">
<dt>Contract: buy or sell (consume/produce) given price and limited capacity in/out</dt><dd><p>Restrictions
- time dependent capacity restrictions
- MinTake &amp; MaxTake for a list of periods
Examples
- with min_cap = max_cap and a detailed time series, implement must run RES assets such as wind
- with MinTake &amp; MaxTake, implement structured gas contracts</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Unique name of the asset                                              (asset parameter)</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="#eaopack.basic_classes.Node" title="eaopack.basic_classes.Node"><em>Node</em></a>) – Node, the constract is located in                                    (asset parameter)</p></li>
<li><p><strong>start</strong> (<em>dt.datetime</em>) – start of asset being active. defaults to none (-&gt; timegrid start relevant)</p></li>
<li><p><strong>end</strong> (<em>dt.datetime</em>) – end of asset being active. defaults to none (-&gt; timegrid start relevant)</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a>) – Timegrid for discretization                                  (asset parameter)</p></li>
<li><p><strong>wacc</strong> (<em>float</em>) – Weighted average cost of capital to discount cash flows in target   (asset parameter)</p></li>
<li><p><strong>freq</strong> (<em>str</em><em>, </em><em>optional</em>) – Frequency for optimization - in case different from portfolio (defaults to None, using portfolio’s freq)
The more granular frequency of portf &amp; asset is used</p></li>
<li><p><strong>profile</strong> (<em>pd.Series</em><em>, </em><em>optional</em>) – If freq(asset) &gt; freq(portf) assuming this profile for granular dispatch (e.g. scaling hourly profile to week).
Defaults to None, only relevant if freq is not none</p></li>
<li><p><strong>min_cap</strong> (<em>float</em><em>, </em><em>dict</em><em>, </em><em>str</em>) – Minimum flow/capacity for buying (negative) or selling (positive). Float or time series. Defaults to 0</p></li>
<li><p><strong>max_cap</strong> (<em>float</em><em>, </em><em>dict</em><em>, </em><em>str</em>) – <p>Maximum flow/capacity for selling (positive). Float or time series. Defaults to 0
float: constant value
dict:  dict[‘start’] = array</p>
<blockquote>
<div><p>dict[‘end’]   = array
dict[‘value’] = array</p>
</div></blockquote>
<p>str:   refers to column in “prices” data that provides time series to set up OptimProblem (as for “price” below)</p>
</p></li>
<li><p><strong>min_take</strong> (<em>dict</em>) – Minimum volume within given period. Defaults to None</p></li>
<li><p><strong>max_take</strong> (<em>dict</em>) – <p>Maximum volume within given period. Defaults to None
dict:  dict[‘start’] = np.array</p>
<blockquote>
<div><p>dict[‘end’]   = np.array
dict[‘value’] = np.array</p>
</div></blockquote>
</p></li>
<li><p><strong>price</strong> (<em>str</em>) – Name of price vector for buying / selling</p></li>
<li><p><strong>extra_costs</strong> (<em>float</em><em>, </em><em>dict</em><em>, </em><em>str</em>) – <p>extra costs added to price vector (in or out). Defaults to 0.
float: constant value
dict:  dict[‘start’] = array</p>
<blockquote>
<div><p>dict[‘end’]   = array
dict[‘value’] = array</p>
</div></blockquote>
<p>str:   refers to column in “prices” data that provides time series to set up OptimProblem (as for “price” below)</p>
</p></li>
<li><p><strong>periodicity</strong> (<em>str</em><em>, </em><em>pd freq style</em>) – Makes assets behave periodicly with given frequency. Periods are repeated up to freq intervals (defaults to None)</p></li>
<li><p><strong>periodicity_duration</strong> (<em>str</em><em>, </em><em>pd freq style</em>) – Intervals in which periods repeat (e.g. repeat days ofer whole weeks)  (defaults to None)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="eaopack.assets.Contract.setup_optim_problem">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">setup_optim_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">costs_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><span class="pre">OptimProblem</span></a></span></span><a class="headerlink" href="#eaopack.assets.Contract.setup_optim_problem" title="Permalink to this definition"></a></dt>
<dd><p>Set up optimization problem for asset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prices</strong> (<em>dict</em>) – Dictionary of price arrays needed by assets in portfolio</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a><em>, </em><em>optional</em>) – Discretization grid for asset. Defaults to None,
in which case it must have been set previously</p></li>
<li><p><strong>costs_only</strong> (<em>bool</em>) – Only create costs vector (speed up e.g. for sampling prices). Defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Optimization problem to be used by optimizer</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem">OptimProblem</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="eaopack.assets.ExtendedTransport">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ExtendedTransport</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'default_name_ext_transport',</span> <span class="pre">nodes:</span> <span class="pre">~typing.List[~eaopack.basic_classes.Node]</span> <span class="pre">=</span> <span class="pre">[&lt;eaopack.basic_classes.Node</span> <span class="pre">object&gt;,</span> <span class="pre">&lt;eaopack.basic_classes.Node</span> <span class="pre">object&gt;],</span> <span class="pre">start:</span> <span class="pre">~typing.Optional[~datetime.datetime]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">end:</span> <span class="pre">~typing.Optional[~datetime.datetime]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">wacc:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0,</span> <span class="pre">costs_const:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.0,</span> <span class="pre">costs_time_series:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">min_cap:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.0,</span> <span class="pre">max_cap:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.0,</span> <span class="pre">efficiency:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">1.0,</span> <span class="pre">min_take:</span> <span class="pre">~typing.Optional[dict]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">max_take:</span> <span class="pre">~typing.Optional[dict]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">freq:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">profile:</span> <span class="pre">~typing.Optional[~pandas.core.series.Series]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">periodicity:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">periodicity_duration:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.assets.ExtendedTransport" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#eaopack.assets.Transport" title="eaopack.assets.Transport"><code class="xref py py-class docutils literal notranslate"><span class="pre">Transport</span></code></a></p>
<p>Extended Transport Class, as an extension of Transport</p>
<p>Transport:</p>
<blockquote>
<div><p>name (str): Unique name of the asset                                              (asset parameter)
nodes (Node): 2 nodes, the transport links                                        (asset parameter)
timegrid (Timegrid): Timegrid for discretization                                  (asset parameter)
start (dt.datetime) : start of asset being active. defaults to none (-&gt; timegrid start relevant)
end (dt.datetime)   : end of asset being active. defaults to none (-&gt; timegrid start relevant)
wacc (float): Weighted average cost of capital to discount cash flows in target   (asset parameter)
freq (str, optional):   Frequency for optimization - in case different from portfolio (defaults to None, using portfolio’s freq)</p>
<blockquote>
<div><p>The more granular frequency of portf &amp; asset is used</p>
</div></blockquote>
<dl class="simple">
<dt>profile (pd.Series, optional):  If freq(asset) &gt; freq(portf) assuming this profile for granular dispatch (e.g. scaling hourly profile to week).</dt><dd><p>Defaults to None, only relevant if freq is not none</p>
</dd>
</dl>
<p>min_cap (float) : Minimum flow/capacity for transporting (from node 1 to node 2)
max_cap (float) : Minimum flow/capacity for transporting (from node 1 to node 2)
efficiency (float): efficiency of transport. May be any positive float. Defaults to 1.
costs_time_series (str): Name of cost vector for transporting. Defaults to None
costs_const (float, optional): extra costs added to price vector (in or out). Defaults to 0.</p>
<p>periodicity (str, pd freq style): Makes assets behave periodicly with given frequency. Periods are repeated up to freq intervals (defaults to None)
periodicity_duration (str, pd freq style): Intervals in which periods repeat (e.g. repeat days ofer whole weeks)  (defaults to None)</p>
<p>Extension of transport with more complex restrictions:</p>
<ul class="simple">
<li><p>time dependent capacity restrictions</p></li>
<li><p>MinTake &amp; MaxTake for a list of periods. With efficiency, min/maxTake refer to the quantity delivered FROM node 1</p></li>
</ul>
</div></blockquote>
<dl>
<dt>Examples</dt><dd><ul class="simple">
<li><p>with min_cap = max_cap and a detailed time series</p></li>
<li><p>with MinTake &amp; MaxTake, implement structured gas contracts</p></li>
</ul>
</dd>
<dt>Additional args:</dt><dd><p>min_take (dict) : Minimum volume within given period. Defaults to None
max_take (dict) : Maximum volume within given period. Defaults to None</p>
<blockquote>
<div><dl class="simple">
<dt>dict:  dict[‘start’] = np.array</dt><dd><p>dict[‘end’]   = np.array
dict[‘value’] = np.array</p>
</dd>
</dl>
</div></blockquote>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="eaopack.assets.ExtendedTransport.setup_optim_problem">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">setup_optim_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">costs_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><span class="pre">OptimProblem</span></a></span></span><a class="headerlink" href="#eaopack.assets.ExtendedTransport.setup_optim_problem" title="Permalink to this definition"></a></dt>
<dd><p>Set up optimization problem for asset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prices</strong> (<em>dict</em>) – Dictionary of price arrays needed by assets in portfolio</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a><em>, </em><em>optional</em>) – Discretization grid for asset. Defaults to None,
in which case it must have been set previously</p></li>
<li><p><strong>costs_only</strong> (<em>bool</em>) – Only create costs vector (speed up e.g. for sampling prices). Defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Optimization problem to be used by optimizer</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem">OptimProblem</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="eaopack.assets.MultiCommodityContract">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultiCommodityContract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'default_name_multi_commodity',</span> <span class="pre">nodes:</span> <span class="pre">~typing.Union[~eaopack.basic_classes.Node,</span> <span class="pre">~typing.List[~eaopack.basic_classes.Node]]</span> <span class="pre">=</span> <span class="pre">[&lt;eaopack.basic_classes.Node</span> <span class="pre">object&gt;,</span> <span class="pre">&lt;eaopack.basic_classes.Node</span> <span class="pre">object&gt;],</span> <span class="pre">start:</span> <span class="pre">~typing.Optional[~datetime.datetime]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">end:</span> <span class="pre">~typing.Optional[~datetime.datetime]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">wacc:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0,</span> <span class="pre">price:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">extra_costs:</span> <span class="pre">~typing.Union[float,</span> <span class="pre">~typing.Dict,</span> <span class="pre">str]</span> <span class="pre">=</span> <span class="pre">0.0,</span> <span class="pre">min_cap:</span> <span class="pre">~typing.Union[float,</span> <span class="pre">~typing.Dict,</span> <span class="pre">str]</span> <span class="pre">=</span> <span class="pre">0.0,</span> <span class="pre">max_cap:</span> <span class="pre">~typing.Union[float,</span> <span class="pre">~typing.Dict,</span> <span class="pre">str]</span> <span class="pre">=</span> <span class="pre">0.0,</span> <span class="pre">min_take:</span> <span class="pre">~typing.Optional[dict]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">max_take:</span> <span class="pre">~typing.Optional[dict]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">factors_commodities:</span> <span class="pre">list</span> <span class="pre">=</span> <span class="pre">[1,</span> <span class="pre">1],</span> <span class="pre">freq:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">profile:</span> <span class="pre">~typing.Optional[~pandas.core.series.Series]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">periodicity:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">periodicity_duration:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.assets.MultiCommodityContract" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#eaopack.assets.Contract" title="eaopack.assets.Contract"><code class="xref py py-class docutils literal notranslate"><span class="pre">Contract</span></code></a></p>
<p>Multi commodity contract class - implements a Contract that generates two or more commoditites at a time.
The main idea is to implement a CHP generating unit that would generate power and heat at the same time.
Overall costs and prices relate directly (and only) to the dispatch variable.
The simplest way of defining the asset is to think of the main commodity as the main variable. In this case
define the first factor == 1 and add the other factors as “free side products” with the respective factor</p>
<dl class="simple">
<dt>Contract: buy or sell (consume/produce) given price and limited capacity in/out</dt><dd><p>Restrictions
- time dependent capacity restrictions
- MinTake &amp; MaxTake for a list of periods
Examples
- with min_cap = max_cap and a detailed time series, implement must run RES assets such as wind
- with MinTake &amp; MaxTake, implement structured gas contracts</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Unique name of the asset                                              (asset parameter)</p></li>
<li><p><strong>start</strong> (<em>dt.datetime</em>) – start of asset being active. defaults to none (-&gt; timegrid start relevant)</p></li>
<li><p><strong>end</strong> (<em>dt.datetime</em>) – end of asset being active. defaults to none (-&gt; timegrid start relevant)</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a>) – Timegrid for discretization                                  (asset parameter)</p></li>
<li><p><strong>wacc</strong> (<em>float</em>) – Weighted average cost of capital to discount cash flows in target   (asset parameter)</p></li>
<li><p><strong>freq</strong> (<em>str</em><em>, </em><em>optional</em>) – Frequency for optimization - in case different from portfolio (defaults to None, using portfolio’s freq)
The more granular frequency of portf &amp; asset is used</p></li>
<li><p><strong>profile</strong> (<em>pd.Series</em><em>, </em><em>optional</em>) – If freq(asset) &gt; freq(portf) assuming this profile for granular dispatch (e.g. scaling hourly profile to week).
Defaults to None, only relevant if freq is not none</p></li>
<li><p><strong>min_cap</strong> (<em>float</em><em>, </em><em>dict</em><em>, </em><em>str</em>) – Minimum flow/capacity for buying (negative) or selling (positive). Defaults to 0</p></li>
<li><p><strong>max_cap</strong> (<em>float</em><em>, </em><em>dict</em><em>, </em><em>str</em>) – <p>Maximum flow/capacity for selling (positive). Defaults to 0
float: constant value
dict:  dict[‘start’] = array</p>
<blockquote>
<div><p>dict[‘end’]   = array
dict[‘value’] = array</p>
</div></blockquote>
<p>str:   refers to column in “prices” data that provides time series to set up OptimProblem (as for “price” below)</p>
</p></li>
<li><p><strong>min_take</strong> (<em>dict</em>) – Minimum volume within given period. Defaults to None</p></li>
<li><p><strong>max_take</strong> (<em>dict</em>) – <p>Maximum volume within given period. Defaults to None
dict:  dict[‘start’] = np.array</p>
<blockquote>
<div><p>dict[‘end’]   = np.array
dict[‘value’] = np.array</p>
</div></blockquote>
</p></li>
<li><p><strong>price</strong> (<em>str</em>) – Name of price vector for buying / selling</p></li>
<li><p><strong>extra_costs</strong> (<em>float</em><em>, </em><em>dict</em><em>, </em><em>str</em>) – <p>extra costs added to price vector (in or out). Defaults to 0.
float: constant value
dict:  dict[‘start’] = array</p>
<blockquote>
<div><p>dict[‘end’]   = array
dict[‘value’] = array</p>
</div></blockquote>
<p>str:   refers to column in “prices” data that provides time series to set up OptimProblem (as for “price” below)</p>
</p></li>
<li><p><strong>periodicity</strong> (<em>str</em><em>, </em><em>pd freq style</em>) – Makes assets behave periodicly with given frequency. Periods are repeated up to freq intervals (defaults to None)</p></li>
<li><p><strong>periodicity_duration</strong> (<em>str</em><em>, </em><em>pd freq style</em>) – Intervals in which periods repeat (e.g. repeat days ofer whole weeks)  (defaults to None)</p></li>
<li><p><strong>contract</strong> (<em>New in comparison to</em>) – </p></li>
<li><p><strong>nodes</strong> (<a class="reference internal" href="#eaopack.basic_classes.Node" title="eaopack.basic_classes.Node"><em>Node</em></a>) – different nodes the contract delivers to (one node per commodity)</p></li>
<li><p><strong>factors_commodities</strong> – list of floats - One factor for each commodity/node.
There is only one dispatch variable, factor[i]*var is the dispatch per commodity</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="eaopack.assets.MultiCommodityContract.setup_optim_problem">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">setup_optim_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">costs_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><span class="pre">OptimProblem</span></a></span></span><a class="headerlink" href="#eaopack.assets.MultiCommodityContract.setup_optim_problem" title="Permalink to this definition"></a></dt>
<dd><p>Set up optimization problem for asset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prices</strong> (<em>dict</em>) – Dictionary of price arrays needed by assets in portfolio</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a><em>, </em><em>optional</em>) – Discretization grid for asset. Defaults to None,
in which case it must have been set previously</p></li>
<li><p><strong>costs_only</strong> (<em>bool</em>) – Only create costs vector (speed up e.g. for sampling prices). Defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Optimization problem to be used by optimizer</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem">OptimProblem</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="eaopack.assets.ScaledAsset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ScaledAsset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'default_name_scaled_asset'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_asset:</span> <span class="pre">~eaopack.assets.Asset</span> <span class="pre">=</span> <span class="pre">&lt;eaopack.assets.Asset</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start:</span> <span class="pre">~typing.Optional[~datetime.datetime]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end:</span> <span class="pre">~typing.Optional[~datetime.datetime]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wacc:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_scale:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_scale:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm_scale:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_costs:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.assets.ScaledAsset" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#eaopack.assets.Asset" title="eaopack.assets.Asset"><code class="xref py py-class docutils literal notranslate"><span class="pre">Asset</span></code></a></p>
<p>Scaled asset - this allows to incorporate fix costs coming with an asset,
optimally choosing the size of the asset</p>
<dl class="simple">
<dt>Initialize scaled asset, which optimizes the scale of a given base asset</dt><dd><p>and fix costs associated with it</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the asset. Must be unique in a portfolio</p></li>
<li><p><strong>nodes</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em>) – Nodes, in which the asset has a dispatch</p></li>
<li><p><strong>start</strong> (<em>dt.datetime</em>) – start of asset being active. defaults to none (-&gt; timegrid start relevant)</p></li>
<li><p><strong>end</strong> (<em>dt.datetime</em>) – end of asset being active. defaults to none (-&gt; timegrid start relevant)</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a>) – Grid for discretization</p></li>
<li><p><strong>wacc</strong> (<em>float</em><em>, </em><em>optional</em>) – WACC to discount the cash flows as the optimization target. Defaults to 0.</p></li>
<li><p><strong>base_asset</strong> (<a class="reference internal" href="#eaopack.assets.Asset" title="eaopack.assets.Asset"><em>Asset</em></a>) – Any asset, that should be scaled</p></li>
<li><p><strong>min_scale</strong> (<em>float</em><em>, </em><em>optional</em>) – Minimum scale. Defaults to 0.</p></li>
<li><p><strong>max_scale</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximum scale. Defaults to 1.</p></li>
<li><p><strong>norm_scale</strong> (<em>float</em><em>, </em><em>optional</em>) – Normalization (i.e. size of base_asset is divided by norm_scale).
Defaults to 1.</p></li>
<li><p><strong>fix_costs</strong> (<em>float</em><em>, </em><em>optional</em>) – Costs in currency per norm scale and per main_time_unit (in timegrid).
Defaults to 0.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="eaopack.assets.ScaledAsset.setup_optim_problem">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">setup_optim_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">costs_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><span class="pre">OptimProblem</span></a></span></span><a class="headerlink" href="#eaopack.assets.ScaledAsset.setup_optim_problem" title="Permalink to this definition"></a></dt>
<dd><p>Set up optimization problem for asset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prices</strong> (<em>dict</em>) – Dictionary of price arrays needed by assets in portfolio</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a><em>, </em><em>optional</em>) – Discretization grid for asset. Defaults to None,
in which case it must have been set previously</p></li>
<li><p><strong>costs_only</strong> (<em>bool</em>) – Only create costs vector (speed up e.g. for sampling prices). Defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Optimization problem to be used by optimizer</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem">OptimProblem</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="eaopack.assets.SimpleContract">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SimpleContract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'default_name_simple_contract'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes:</span> <span class="pre">~eaopack.basic_classes.Node</span> <span class="pre">=</span> <span class="pre">&lt;eaopack.basic_classes.Node</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start:</span> <span class="pre">~typing.Optional[~datetime.datetime]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end:</span> <span class="pre">~typing.Optional[~datetime.datetime]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wacc:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_costs:</span> <span class="pre">~typing.Union[float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~typing.Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">=</span> <span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_cap:</span> <span class="pre">~typing.Union[float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~typing.Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">=</span> <span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cap:</span> <span class="pre">~typing.Union[float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~typing.Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">=</span> <span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile:</span> <span class="pre">~typing.Optional[~pandas.core.series.Series]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">periodicity:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">periodicity_duration:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.assets.SimpleContract" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#eaopack.assets.Asset" title="eaopack.assets.Asset"><code class="xref py py-class docutils literal notranslate"><span class="pre">Asset</span></code></a></p>
<p>Contract Class</p>
<dl class="simple">
<dt>Simple contract: given price and limited capacity in/out. No other constraints</dt><dd><p>A simple contract is able to buy or sell (consume/produce) at given prices plus extra costs up to given capacity limits</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Unique name of the asset                                              (asset parameter)</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="#eaopack.basic_classes.Node" title="eaopack.basic_classes.Node"><em>Node</em></a>) – Node, the constract is located in                                    (asset parameter)</p></li>
<li><p><strong>start</strong> (<em>dt.datetime</em>) – start of asset being active. defaults to none (-&gt; timegrid start relevant)</p></li>
<li><p><strong>end</strong> (<em>dt.datetime</em>) – end of asset being active. defaults to none (-&gt; timegrid start relevant)</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a>) – Timegrid for discretization                                  (asset parameter)</p></li>
<li><p><strong>wacc</strong> (<em>float</em>) – Weighted average cost of capital to discount cash flows in target   (asset parameter)</p></li>
<li><p><strong>freq</strong> (<em>str</em><em>, </em><em>optional</em>) – Frequency for optimization - in case different from portfolio (defaults to None, using portfolio’s freq)
The more granular frequency of portf &amp; asset is used</p></li>
<li><p><strong>profile</strong> (<em>pd.Series</em><em>, </em><em>optional</em>) – If freq(asset) &gt; freq(portf) assuming this profile for granular dispatch (e.g. scaling hourly profile to week).
Defaults to None, only relevant if freq is not none</p></li>
<li><p><strong>min_cap</strong> (<em>float</em><em>, </em><em>dict</em>) – Minimum flow/capacity for buying (negative)</p></li>
<li><p><strong>max_cap</strong> (<em>float</em><em>, </em><em>dict</em>) – <p>Maximum flow/capacity for selling (positive)
float: constant value
dict:  dict[‘start’] = array</p>
<blockquote>
<div><p>dict[‘end’]   = array
dict[‘value’] = array</p>
</div></blockquote>
<p>str:   refers to column in “prices” data that provides time series to set up OptimProblem (as for “price” below)</p>
</p></li>
<li><p><strong>price</strong> (<em>str</em>) – Name of price vector for buying / selling. Defaults to None</p></li>
<li><p><strong>extra_costs</strong> (<em>float</em><em>, </em><em>dict</em><em>, </em><em>str</em>) – <p>extra costs added to price vector (in or out). Defaults to 0.
float: constant value
dict:  dict[‘start’] = array</p>
<blockquote>
<div><p>dict[‘end’]   = array
dict[‘value’] = array</p>
</div></blockquote>
<p>str:   refers to column in “prices” data that provides time series to set up OptimProblem (as for “price” below)</p>
</p></li>
<li><p><strong>periodicity</strong> (<em>str</em><em>, </em><em>pd freq style</em>) – Makes assets behave periodicly with given frequency. Periods are repeated up to freq intervals (defaults to None)</p></li>
<li><p><strong>periodicity_duration</strong> (<em>str</em><em>, </em><em>pd freq style</em>) – Intervals in which periods repeat (e.g. repeat days ofer whole weeks)  (defaults to None)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="eaopack.assets.SimpleContract.make_vector">
<span class="sig-name descname"><span class="pre">make_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.assets.SimpleContract.make_vector" title="Permalink to this definition"></a></dt>
<dd><p>Make a vector out of value
:param value: The value to be converted to a vector</p>
<blockquote>
<div><p>float: constant value
dict:  dict[‘start’] = array</p>
<blockquote>
<div><p>dict[‘end’]   = array
dict[‘value’] = array</p>
</div></blockquote>
<p>str:   refers to column in “prices” data that provides time series to set up OptimProblem (as for “price” below)</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prices</strong> (<em>dict</em>) – Dictionary of price arrays needed by assets in portfolio</p></li>
<li><p><strong>default_value</strong> (<em>float</em>) – The value that is used if any of the entries of the resulting vector are not specified</p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="eaopack.assets.SimpleContract.setup_optim_problem">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">setup_optim_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">costs_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><span class="pre">OptimProblem</span></a></span></span><a class="headerlink" href="#eaopack.assets.SimpleContract.setup_optim_problem" title="Permalink to this definition"></a></dt>
<dd><p>Set up optimization problem for asset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prices</strong> (<em>dict</em>) – Dictionary of price arrays needed by assets in portfolio</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a><em>, </em><em>optional</em>) – Discretization grid for asset. Defaults to None,
in which case it must have been set previously</p></li>
<li><p><strong>costs_only</strong> (<em>bool</em>) – Only create costs vector (speed up e.g. for sampling prices). Defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Optimization problem to be used by optimizer</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem">OptimProblem</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="eaopack.assets.Storage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Storage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes:</span> <span class="pre">~eaopack.basic_classes.Node</span> <span class="pre">=</span> <span class="pre">&lt;eaopack.basic_classes.Node</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start:</span> <span class="pre">~typing.Optional[~datetime.datetime]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end:</span> <span class="pre">~typing.Optional[~datetime.datetime]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wacc:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size:</span> <span class="pre">~typing.Optional[float]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cap_in:</span> <span class="pre">~typing.Optional[float]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cap_out:</span> <span class="pre">~typing.Optional[float]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_level:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_level:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_out:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_in:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_store:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block_size:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eff_in:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inflow:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_simult_in_out:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_store_duration:</span> <span class="pre">~typing.Optional[float]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile:</span> <span class="pre">~typing.Optional[~pandas.core.series.Series]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">periodicity:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">periodicity_duration:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.assets.Storage" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#eaopack.assets.Asset" title="eaopack.assets.Asset"><code class="xref py py-class docutils literal notranslate"><span class="pre">Asset</span></code></a></p>
<p>Storage Class in Python</p>
<dl class="simple">
<dt>Specific storage asset. A storage has the basic capability to</dt><dd><ol class="arabic simple">
<li><p>take in a commodity within a limited flow rate (capacity)</p></li>
<li><p>store a maximum volume of a commodity (size)</p></li>
<li><p>give out the commodity within a limited flow rate</p></li>
</ol>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Unique name of the asset (asset parameter)</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="#eaopack.basic_classes.Node" title="eaopack.basic_classes.Node"><em>Node</em></a>) – Node, the storage is located in (asset parameter)
Two nodes may be defined in case input and output are located in different nodes [node_input, node_output]</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a>) – Timegrid for discretization (asset parameter)</p></li>
<li><p><strong>wacc</strong> (<em>float</em>) – Weighted average cost of capital to discount cash flows in target (asset parameter)</p></li>
<li><p><strong>freq</strong> (<em>str</em><em>, </em><em>optional</em>) – Frequency for optimization - in case different from portfolio (defaults to None, using portfolio’s freq)
The more granular frequency of portf &amp; asset is used</p></li>
<li><p><strong>profile</strong> (<em>pd.Series</em><em>, </em><em>optional</em>) – If freq(asset) &gt; freq(portf) assuming this profile for granular dispatch (e.g. scaling hourly profile to week).
Defaults to None, only relevant if freq is not none</p></li>
<li><p><strong>size</strong> (<em>float</em>) – maximum volume of commodity in storage.</p></li>
<li><p><strong>cap_in</strong> (<em>float</em>) – Maximum flow rate for taking in a commodity</p></li>
<li><p><strong>cap_out</strong> (<em>float</em>) – Maximum flow rate for taking in a commodity</p></li>
<li><p><strong>start_level</strong> (<em>float</em><em>, </em><em>optional</em>) – Level of storage at start of optimization. Defaults to zero.</p></li>
<li><p><strong>end_level</strong> (<em>float</em><em>, </em><em>optional</em>) – Level of storage at end of optimization. Defaults to zero.</p></li>
<li><p><strong>cost_out</strong> (<em>float</em><em>, </em><em>optional</em>) – Cost for taking out volumes ($/volume). Defaults to 0.</p></li>
<li><p><strong>cost_in</strong> (<em>float</em><em>, </em><em>optional</em>) – Cost for taking in volumes ($/volume). Defaults to 0.</p></li>
<li><p><strong>cost_store</strong> (<em>float</em><em>, </em><em>optional</em>) – Cost for keeping in storage ($/volume/main time unit). Defaults to 0.
Note: Cost for stored inflow is correctly optimized, but constant contribution not part of output NPV</p></li>
<li><p><strong>block_size</strong> (<em>str</em><em>, </em><em>optional</em>) – Mainly to speed optimization, optimize the storage in time blocks. Defaults None (no blocks).
Using pandas type frequency strings (e.g. ‘d’ to have a block each day)</p></li>
<li><p><strong>eff_in</strong> (<em>float</em><em>, </em><em>optional</em>) – Efficiency taking in the commodity. Means e.g. at 90%: 1MWh in –&gt; 0,9 MWh in storage. Defaults to 1 (=100%).</p></li>
<li><p><strong>inflow</strong> (<em>float</em><em>, </em><em>optional</em>) – Constant rate of inflow volumes (flow in each time step. E.g. water inflow in hydro storage). Defaults to 0.</p></li>
<li><p><strong>no_simult_in_out</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Enforce no simultaneous dispatch in/out in case of costs or efficiency!=1. Makes problem MIP. Defaults to False</p></li>
<li><p><strong>max_store_duration</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximal duration in main time units that charged commodity can be held. Makes problem a MIP. Defaults to none</p></li>
<li><p><strong>periodicity</strong> (<em>str</em><em>, </em><em>pd freq style</em>) – Makes assets behave periodicly with given frequency. Periods are repeated up to freq intervals (defaults to None)</p></li>
<li><p><strong>periodicity_duration</strong> (<em>str</em><em>, </em><em>pd freq style</em>) – Intervals in which periods repeat (e.g. repeat days ofer whole weeks)  (defaults to None)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="eaopack.assets.Storage.setup_optim_problem">
<span class="sig-name descname"><span class="pre">setup_optim_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">costs_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><span class="pre">OptimProblem</span></a></span></span><a class="headerlink" href="#eaopack.assets.Storage.setup_optim_problem" title="Permalink to this definition"></a></dt>
<dd><p>Set up optimization problem for asset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prices</strong> (<em>dict</em>) – Dictionary of price arrays needed by assets in portfolio</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a><em>, </em><em>optional</em>) – Discretization grid for asset. Defaults to None,
in which case it must have been set previously</p></li>
<li><p><strong>costs_only</strong> (<em>bool</em>) – Only create costs vector (speed up e.g. for sampling prices). Defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Optimization problem to be used by optimizer</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem">OptimProblem</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="eaopack.assets.Transport">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Transport</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'default_name_transport',</span> <span class="pre">nodes:</span> <span class="pre">~typing.List[~eaopack.basic_classes.Node]</span> <span class="pre">=</span> <span class="pre">[&lt;eaopack.basic_classes.Node</span> <span class="pre">object&gt;,</span> <span class="pre">&lt;eaopack.basic_classes.Node</span> <span class="pre">object&gt;],</span> <span class="pre">start:</span> <span class="pre">~typing.Optional[~datetime.datetime]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">end:</span> <span class="pre">~typing.Optional[~datetime.datetime]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">wacc:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0,</span> <span class="pre">costs_const:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.0,</span> <span class="pre">costs_time_series:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">min_cap:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.0,</span> <span class="pre">max_cap:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.0,</span> <span class="pre">efficiency:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">1.0,</span> <span class="pre">freq:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">profile:</span> <span class="pre">~typing.Optional[~pandas.core.series.Series]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">periodicity:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">periodicity_duration:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.assets.Transport" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#eaopack.assets.Asset" title="eaopack.assets.Asset"><code class="xref py py-class docutils literal notranslate"><span class="pre">Asset</span></code></a></p>
<p>Contract Class</p>
<p>Transport: Link two nodes, transporting the commodity at given efficiency and costs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Unique name of the asset                                              (asset parameter)</p></li>
<li><p><strong>nodes</strong> (<em>list of nodes</em>) – 2 nodes, the transport links                               (asset parameter)</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a>) – Timegrid for discretization                                  (asset parameter)</p></li>
<li><p><strong>start</strong> (<em>dt.datetime</em>) – start of asset being active. defaults to none (-&gt; timegrid start relevant)</p></li>
<li><p><strong>end</strong> (<em>dt.datetime</em>) – end of asset being active. defaults to none (-&gt; timegrid start relevant)</p></li>
<li><p><strong>wacc</strong> (<em>float</em>) – Weighted average cost of capital to discount cash flows in target   (asset parameter)</p></li>
<li><p><strong>freq</strong> (<em>str</em><em>, </em><em>optional</em>) – Frequency for optimization - in case different from portfolio (defaults to None, using portfolio’s freq)
The more granular frequency of portf &amp; asset is used</p></li>
<li><p><strong>profile</strong> (<em>pd.Series</em><em>, </em><em>optional</em>) – If freq(asset) &gt; freq(portf) assuming this profile for granular dispatch (e.g. scaling hourly profile to week).
Defaults to None, only relevant if freq is not none</p></li>
<li><p><strong>min_cap</strong> (<em>float</em>) – Minimum flow/capacity for transporting (from node 1 to node 2)</p></li>
<li><p><strong>max_cap</strong> (<em>float</em>) – Minimum flow/capacity for transporting (from node 1 to node 2)</p></li>
<li><p><strong>efficiency</strong> (<em>float</em>) – efficiency of transport. May be any positive float. Defaults to 1.</p></li>
<li><p><strong>costs_time_series</strong> (<em>str</em>) – Name of cost vector for transporting. Defaults to None</p></li>
<li><p><strong>costs_const</strong> (<em>float</em><em>, </em><em>optional</em>) – extra costs added to price vector (in or out). Defaults to 0.</p></li>
<li><p><strong>periodicity</strong> (<em>str</em><em>, </em><em>pd freq style</em>) – Makes assets behave periodicly with given frequency. Periods are repeated up to freq intervals (defaults to None)</p></li>
<li><p><strong>periodicity_duration</strong> (<em>str</em><em>, </em><em>pd freq style</em>) – Intervals in which periods repeat (e.g. repeat days ofer whole weeks)  (defaults to None)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="eaopack.assets.Transport.setup_optim_problem">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">setup_optim_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">costs_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><span class="pre">OptimProblem</span></a></span></span><a class="headerlink" href="#eaopack.assets.Transport.setup_optim_problem" title="Permalink to this definition"></a></dt>
<dd><p>Set up optimization problem for asset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prices</strong> (<em>dict</em>) – Dictionary of price arrays needed by assets in portfolio</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a><em>, </em><em>optional</em>) – Discretization grid for asset. Defaults to None,
in which case it must have been set previously</p></li>
<li><p><strong>costs_only</strong> (<em>bool</em>) – Only create costs vector (speed up e.g. for sampling prices). Defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Optimization problem to be used by optimizer</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem">OptimProblem</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eaopack.assets.convert_time_unit">
<span class="sig-name descname"><span class="pre">convert_time_unit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#eaopack.assets.convert_time_unit" title="Permalink to this definition"></a></dt>
<dd><p>Convert time value from old_freq to new_freq
:param value: the time value to convert
:type value: float
:param old_freq: pandas frequency string, e.g. ‘d’, ‘h’, ‘min’, ‘15min’, ‘1d1h’
:param new_freq: pandas frequency string, e.g. ‘d’, ‘h’, ‘min’, ‘15min’, ‘1d1h’</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the time value converted from old_freq to new_freq</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eaopack.assets.define_restr">
<span class="sig-name descname"><span class="pre">define_restr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">my_take</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">my_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">my_n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">map</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.assets.define_restr" title="Permalink to this definition"></a></dt>
<dd><p>encapsulates the generation of restriction from given min/max take or similar</p>
</dd></dl>

</section>
<section id="module-eaopack.portfolio">
<span id="portfolio"></span><h2>Portfolio<a class="headerlink" href="#module-eaopack.portfolio" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="eaopack.portfolio.LinkedAsset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LinkedAsset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#eaopack.portfolio.Portfolio" title="eaopack.portfolio.Portfolio"><span class="pre">Portfolio</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">asset1_variable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.assets.Asset" title="eaopack.assets.Asset"><span class="pre">Asset</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Node" title="eaopack.basic_classes.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asset2_variable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.assets.Asset" title="eaopack.assets.Asset"><span class="pre">Asset</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Node" title="eaopack.basic_classes.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asset2_time_already_running</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'time_already_running'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_back</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_forward</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'default_name_linkedAsset'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.portfolio.LinkedAsset" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#eaopack.portfolio.StructuredAsset" title="eaopack.portfolio.StructuredAsset"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructuredAsset</span></code></a></p>
<p>Linked asset that wraps a portfolio in one asset and poses additional constraints on variables.
This can be used to ensure that one asset turns on only after another asset has been running for at
least a set amount of time.</p>
<p>Linked asset that wraps a portfolio in one asset and poses the following additional constraints on variable
v1 of asset1 and (bool) variable v2 of asset2:</p>
<p>v1_t &lt;= u1_t * v2_{t+i}, for all i = -time_back,…,time_forward   and   timesteps t = 0,…,timegrid.T</p>
<p>Here, v1_t and v2_t stand for variable v1 of asset1 at timestep t and variable v2 of asset2 at timestep t, respectively.
u1_t stands for the upper bound for variable v1_t as specified in asset1.</p>
<p>This can be used to ensure that a dispatch or “on” variable v1 is 0 (or “off”) depending on the value of an “on” variable v2.
For example, it can be ensured that asset1 only turns “on” or has positive dispatch once asset2 has
been running for a minimum amount of time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portf</strong> (<a class="reference internal" href="#eaopack.portfolio.Portfolio" title="eaopack.portfolio.Portfolio"><em>Portfolio</em></a>) – Portfolio to be wrapped</p></li>
<li><p><strong>nodes</strong> (<em>nodes as in std. asset</em>) – where to connect the asset to the outside.
Must correspond to (a) node(s) of the internal structure</p></li>
<li><p><strong>name</strong> (<em>str</em>) – name of the linked asset</p></li>
<li><p><strong>asset1_variable</strong> (<em>Tuple</em><em>[</em><em>Union</em><em>[</em><a class="reference internal" href="#eaopack.assets.Asset" title="eaopack.assets.Asset"><em>Asset</em></a><em>, </em><em>str</em><em>]</em><em>, </em><em>str</em><em>, </em><em>Union</em><em>[</em><a class="reference internal" href="#eaopack.basic_classes.Node" title="eaopack.basic_classes.Node"><em>Node</em></a><em>, </em><em>str</em><em>]</em><em>]</em>) – Tuple specifying the variable v1 consisting of
- asset1 (Asset, str): asset or asset_name of asset in portfolio
- v1 (str): name of a variable in asset1
- node1 (Node, str): node or node_name of node in portfolio</p></li>
<li><p><strong>asset2_variable</strong> (<em>Tuple</em><em>[</em><em>Union</em><em>[</em><a class="reference internal" href="#eaopack.assets.Asset" title="eaopack.assets.Asset"><em>Asset</em></a><em>, </em><em>str</em><em>]</em><em>, </em><em>str</em><em>, </em><em>Union</em><em>[</em><a class="reference internal" href="#eaopack.basic_classes.Node" title="eaopack.basic_classes.Node"><em>Node</em></a><em>, </em><em>str</em><em>]</em><em>]</em>) – Tuple specifying the variable v2 consisting of
- asset2 (Asset, str): asset or asset_name of asset in portfolio
- v2 (str): name of a bool variable in asset2
- node2 (Node, str): node or node_name of node in portfolio</p></li>
<li><p><strong>asset2_time_already_running</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>float</em><em>]</em>) – Indicating the runtime asset2 has already been running for
float: the time in the timegrids main_time_unit that asset2 has been ‘on’ for
str: the name of an attribute of asset2 that indicates the time asset2 has been running
This defaults to “time_already_running”</p></li>
<li><p><strong>time_back</strong> (<em>float</em>) – The minimum amount of time asset2 has to be running before v1 of asset1 can be &gt; 0</p></li>
<li><p><strong>time_forward</strong> (<em>float</em>) – The minimum amount of time v1 of asset1 has to be 0 before asset2  is turned off</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="eaopack.portfolio.LinkedAsset.setup_optim_problem">
<span class="sig-name descname"><span class="pre">setup_optim_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">costs_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><span class="pre">OptimProblem</span></a></span></span><a class="headerlink" href="#eaopack.portfolio.LinkedAsset.setup_optim_problem" title="Permalink to this definition"></a></dt>
<dd><p>set up optimization problem for the asset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prices</strong> (<em>dict</em>) – dictionary of price np.arrays. dict must contain a key that corresponds
to str “price” in asset (if prices are required by the asset)</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a>) – Grid to be used for optim problem. Defaults to none</p></li>
<li><p><strong>costs_only</strong> (<em>bool</em>) – Only create costs vector (speed up e.g. for sampling prices). Defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Optimization problem that may be used by optimizer</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem">OptimProblem</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="eaopack.portfolio.Portfolio">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Portfolio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">assets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.assets.Asset" title="eaopack.assets.Asset"><span class="pre">Asset</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.portfolio.Portfolio" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The portfolio class allows for collecting several assets in a network of nodes
and optimizing them jointly. In terms of setting up the problem, the portfolio
collects the assets and imposes the restriction of forcing the flows of a commodity
in each node to be zero in each time step</p>
<p>The portfolio class allows for collecting several assets in a network of nodes
and optimizing them jointly. In terms of setting up the problem, the portfolio
collects the assets and imposes the restriction of forcing the flows of a commodity
in each node to be zero in each time step.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>assets</strong> (<em>List</em><em>[</em><a class="reference internal" href="#eaopack.assets.Asset" title="eaopack.assets.Asset"><em>Asset</em></a><em>]</em>) – Collection of the assets. The assets are assigned to nodes, which,
together with ‘Transport’ assets define the network of the portfolio.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="eaopack.portfolio.Portfolio.create_cost_samples">
<span class="sig-name descname"><span class="pre">create_cost_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">price_samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span></span></span><a class="headerlink" href="#eaopack.portfolio.Portfolio.create_cost_samples" title="Permalink to this definition"></a></dt>
<dd><p>create costs vectors for LP on basis of price samples
:param price_samples: List of dicts of price arrays
:type price_samples: list
:param timegrid: Discretization grid for portfolio and all assets within.</p>
<blockquote>
<div><p>Defaults to None, in which case it must have been set previously</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of costs vectors for use in OptimProblem (e.g. for robust optimization)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="eaopack.portfolio.Portfolio.get_asset">
<span class="sig-name descname"><span class="pre">get_asset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#eaopack.assets.Asset" title="eaopack.assets.Asset"><span class="pre">Asset</span></a></span></span><a class="headerlink" href="#eaopack.portfolio.Portfolio.get_asset" title="Permalink to this definition"></a></dt>
<dd><p>Return the asset with name asset_name or None if no asset with this name exists in the portfolio.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>asset_name</strong> (<em>str</em>) – The name of the asset</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The asset with name asset_name</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>asset (<a class="reference internal" href="#eaopack.assets.Asset" title="eaopack.assets.Asset">Asset</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="eaopack.portfolio.Portfolio.get_node">
<span class="sig-name descname"><span class="pre">get_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#eaopack.basic_classes.Node" title="eaopack.basic_classes.Node"><span class="pre">Node</span></a></span></span><a class="headerlink" href="#eaopack.portfolio.Portfolio.get_node" title="Permalink to this definition"></a></dt>
<dd><p>Return the node with name node_name or None if no nodes with this name exists in the portfolio.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>node_name</strong> (<em>str</em>) – The name of the node</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The node with name node_name</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>node (<a class="reference internal" href="#eaopack.basic_classes.Node" title="eaopack.basic_classes.Node">Node</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="eaopack.portfolio.Portfolio.set_timegrid">
<span class="sig-name descname"><span class="pre">set_timegrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.portfolio.Portfolio.set_timegrid" title="Permalink to this definition"></a></dt>
<dd><p>Set the timegrid for the portfolio. The timegrid will be used for all asset in the portfolio.
:param timegrid: The timegrid to be set
:type timegrid: Timegrid</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="eaopack.portfolio.Portfolio.setup_optim_problem">
<span class="sig-name descname"><span class="pre">setup_optim_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">costs_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_time_window</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><span class="pre">OptimProblem</span></a></span></span><a class="headerlink" href="#eaopack.portfolio.Portfolio.setup_optim_problem" title="Permalink to this definition"></a></dt>
<dd><p>Set up optimization problem for portfolio</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prices</strong> (<em>dict</em>) – Dictionary of price arrays needed by assets in portfolio. Defaults to None</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a><em>, </em><em>optional</em>) – Discretization grid for portfolio and all assets within.
Defaults to None, in which case it must have been set previously</p></li>
<li><p><strong>costs_only</strong> (<em>bool</em>) – Only create costs vector (speed up e.g. for sampling prices). Defaults to False</p></li>
<li><p><strong>skip_nodes</strong> (<em>List</em>) – Nodes to be skipped in nodal restrictions (defaults to [])</p></li>
<li><p><strong>fix_time_window</strong> (<em>Dict</em>) – Fix results for given indices on time grid to given values. Defaults to None
fix_time_window[‘I’]: Indices on timegrid or alternatively date (all dates before date taken)
fix_time_window[‘x’]: Results.x that results are to be fixed to in time window(full array, all times)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Optimization problem to be used by optimizer</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem">OptimProblem</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="eaopack.portfolio.Portfolio.setup_split_optim_problem">
<span class="sig-name descname"><span class="pre">setup_split_optim_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'d'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_time_window</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.portfolio.Portfolio.setup_split_optim_problem" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Set up a split optimization problem for portfolio, i.e. split the timegrid into intervals of size</dt><dd><p>interval_size and create a separate optimization problem for each interval</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prices</strong> (<em>dict</em>) – Dictionary of price arrays needed by assets in portfolio. Defaults to None</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a><em>, </em><em>optional</em>) – Discretization grid for portfolio and all assets within.
Defaults to None, in which case it must have been set previously</p></li>
<li><p><strong>interval_size</strong> (<em>bool</em>) – Interval size according to pandas notation (‘15min’, ‘h’, ‘d’, …). Defaults to ‘d’</p></li>
<li><p><strong>skip_nodes</strong> (<em>List</em>) – Nodes to be skipped in nodal restrictions (defaults to [])</p></li>
<li><p><strong>fix_time_window</strong> (<em>Dict</em>) – Fix results for given indices on time grid to given values. Defaults to None
fix_time_window[‘I’]: Indices on timegrid or alternatively date (all dates before date taken)
fix_time_window[‘x’]: Results.x that results are to be fixed to in time window(full array, all times)</p></li>
<li><p><strong>Returns</strong> – SplitOptimProblem: A Split Optimization problem</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="eaopack.portfolio.StructuredAsset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StructuredAsset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#eaopack.portfolio.Portfolio" title="eaopack.portfolio.Portfolio"><span class="pre">Portfolio</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.portfolio.StructuredAsset" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#eaopack.assets.Asset" title="eaopack.assets.Asset"><code class="xref py py-class docutils literal notranslate"><span class="pre">Asset</span></code></a></p>
<p>Structured asset that wraps a portfolio in one asset
Example: hydro storage with inflow consisting of several linked storage levels</p>
<p>Structured asset that wraps a portfolio</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portf</strong> (<a class="reference internal" href="#eaopack.portfolio.Portfolio" title="eaopack.portfolio.Portfolio"><em>Portfolio</em></a>) – Portfolio to be wrapped</p></li>
<li><p><strong>nodes</strong> (<em>nodes as in std. asset</em>) – where to connect the asset to the outside.
Must correspond to (a) node(s) of the internal structure</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="eaopack.portfolio.StructuredAsset.setup_optim_problem">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">setup_optim_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">costs_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><span class="pre">OptimProblem</span></a></span></span><a class="headerlink" href="#eaopack.portfolio.StructuredAsset.setup_optim_problem" title="Permalink to this definition"></a></dt>
<dd><p>Set up optimization problem for asset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prices</strong> (<em>dict</em>) – Dictionary of price arrays needed by assets in portfolio</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a><em>, </em><em>optional</em>) – Discretization grid for asset. Defaults to None,
in which case it must have been set previously</p></li>
<li><p><strong>costs_only</strong> (<em>bool</em>) – Only create costs vector (speed up e.g. for sampling prices). Defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Optimization problem to be used by optimizer</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem">OptimProblem</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-eaopack.optimization">
<span id="optimization"></span><h2>Optimization<a class="headerlink" href="#module-eaopack.optimization" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="eaopack.optimization.OptimProblem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">OptimProblem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">A</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">array</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">array</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cType</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">periodic_period_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">periodic_duration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">map_nodal_restr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.optimization.OptimProblem" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Formulated optimization problem. LP problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> (<em>np.array</em>) – cost vector</p></li>
<li><p><strong>l</strong> (<em>np.array</em>) – lower bound (per time step)</p></li>
<li><p><strong>u</strong> (<em>np.array</em>) – upper bound (per time step)</p></li>
<li><p><strong>A</strong> (<em>np.array</em>) – restiction matrix. Optional. Defaults to None (no restrictions given)</p></li>
<li><p><strong>b</strong> (<em>np.array</em>) – bound of restriction. Optional. Defaults to None (no restrictions given)</p></li>
<li><p><strong>cType</strong> (<em>str - one letter per restriction</em>) – <p>Logic to define type of restriction: U-pper, L-ower, S-equal or other
here specific types may be defined:</p>
<blockquote>
<div><p>sum of dispatch at node zero: N</p>
</div></blockquote>
<p>Optional. Defaults to None (no restrictions given)</p>
</p></li>
<li><p><strong>mapping</strong> (<em>pd.DataFrame</em>) – Mapping of variables to ‘asset’, ‘node’, ‘type’ (‘d’ - dispatch and ‘i’ internal variable) and ‘time_step’</p></li>
<li><p><strong>map_nodal_restr</strong> (<em>list</em>) – Mapping to identify node and timepoint for duals in the solution of the LP</p></li>
<li><p><strong>periodic</strong> (<em>--- if</em>) – </p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a>) – timegrid underneath optim problem (defaults to None)</p></li>
<li><p><strong>periodic_period_length</strong> (<em>str</em>) – pandas freq defining the period length (defaults to None)</p></li>
<li><p><strong>periodic_duration</strong> (<em>str</em>) – pandas freq defining the duration of intervals in which periods are repeated (defaults to None - then duration is inf)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="eaopack.optimization.OptimProblem.optimize">
<span class="sig-name descname"><span class="pre">optimize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interface</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'cvxpy'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">make_soft_problem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5000</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#eaopack.optimization.Results" title="eaopack.optimization.Results"><span class="pre">Results</span></a></span></span><a class="headerlink" href="#eaopack.optimization.OptimProblem.optimize" title="Permalink to this definition"></a></dt>
<dd><p>optimize the optimization problem</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<em>str</em>) – Target function. Defaults to ‘value’ (maximize DCF).
Alternative: ‘robust’, maximizing the minimum DCF across given price samples</p></li>
<li><p><strong>samples</strong> (<em>List</em>) – Samples to be used in specific optimization targets
- Robust optimization: list of costs arrays (maximizing minimal DCF)</p></li>
<li><p><strong>interface</strong> (<em>str</em><em>, </em><em>optional</em>) – Chosen interface architecture. Defaults to ‘cvxpy’.</p></li>
<li><p><strong>solver</strong> (<em>str</em><em>, </em><em>optional</em>) – Solver for interface. Defaults to None</p></li>
<li><p><strong>make_soft_problem</strong> (<em>bool</em><em>, </em><em>optional</em>) – If true, relax the boolean variables and allow float values instead. Defaults to False</p></li>
<li><p><strong>rel_tol</strong> (<em>INACTIVE</em>) – relative tolerance for solver</p></li>
<li><p><strong>iterations</strong> (<em>INACTIVE</em>) – max number of iterations for solver</p></li>
<li><p><strong>decimals_res</strong> (<em>INACTIVE</em>) – rounding results to … decimals. Defaults to 5</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="eaopack.optimization.Results">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.optimization.Results" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>collection of optimization results</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>float</em>) – value of optimized target function</p></li>
<li><p><strong>x</strong> (<em>np.array</em>) – optimal values of variables</p></li>
<li><p><strong>duals</strong> (<em>dict</em>) – dual values for  constraints. Dict with constraint types as keys (mostly interesting ‘N’ for nodes)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="eaopack.optimization.SplitOptimProblem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SplitOptimProblem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ops</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.optimization.SplitOptimProblem" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimProblem</span></code></a></p>
<p>Collection of consecutive OptimProblems</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ops</strong> – List of OptimProblems</p></li>
<li><p><strong>mapping</strong> (<em>pd.DataFrame</em>) – Mapping of all result variables to ‘asset’, ‘node’, ‘type’ (‘d’ - dispatch and ‘i’ internal variable) and ‘time_step’</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="eaopack.optimization.SplitOptimProblem.optimize">
<span class="sig-name descname"><span class="pre">optimize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#eaopack.optimization.Results" title="eaopack.optimization.Results"><span class="pre">Results</span></a></span></span><a class="headerlink" href="#eaopack.optimization.SplitOptimProblem.optimize" title="Permalink to this definition"></a></dt>
<dd><p>Optimize all OptimProblems in self.ops and piece the results together in one Result</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-eaopack.basic_classes">
<span id="basic-classes"></span><h2>Basic classes<a class="headerlink" href="#module-eaopack.basic_classes" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="eaopack.basic_classes.Node">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commodity:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit:</span> <span class="pre">~eaopack.basic_classes.Unit</span> <span class="pre">=</span> <span class="pre">&lt;eaopack.basic_classes.Unit</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.basic_classes.Node" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="simple">
<dt>Class to define a node in the optimization problem. A node is a (virtual) point, where</dt><dd><p>assets are located. In a node, the sum of all commodity flows must be zero.
Only one commodity may be present in each node.
Per node we also define the units to be used for capacity (volume/energy and flow/capacity).
Examples are MWh and MW or liters and liters per minute.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the node (must be unique in the portfolio)</p></li>
<li><p><strong>commodity</strong> (<em>str</em>) – Commodity traded in the node. None possible if there is no distinction. Defaults to None</p></li>
<li><p><strong>unit</strong> (<a class="reference internal" href="#eaopack.basic_classes.Unit" title="eaopack.basic_classes.Unit"><em>Unit</em></a>) – Units used in the node. Defaults to default unit</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="eaopack.basic_classes.Timegrid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Timegrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'h'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">main_time_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'h'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_timegrid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timezone</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.basic_classes.Timegrid" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manage the timegrid used for optimization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>dt.datetime</em>) – Start datetime</p></li>
<li><p><strong>end</strong> (<em>dt.datetime</em>) – End datetime</p></li>
<li><p><strong>freq</strong> (<em>str</em><em>, </em><em>optional</em>) – Frequency for discretization according to pandas notation (‘15min’, ‘h’, ‘d’, …). Defaults to ‘h’</p></li>
<li><p><strong>main_time_unit</strong> (<em>str</em><em>, </em><em>optional</em>) – All times in the optimization problem are measured in the main_time_unit. Pandas notation. Defaults to ‘h’</p></li>
<li><p><strong>timezone</strong> – Timezone for times. String according to pandas tz definitions (e.g. CET). Defaults to None (naive timezone)</p></li>
<li><p><strong>ref_timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a><em>, </em><em>optional</em>) – reference TG in case this timegrid is a subset of a suber grid</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>specific points in time of mesh
T (float): number of time steps
dt (np.array): time step for each step
Dt (np.array): cummulative time steps (total duration since start)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>timepoints (daterange)</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="eaopack.basic_classes.Timegrid.prep_date_dict">
<span class="sig-name descname"><span class="pre">prep_date_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.basic_classes.Timegrid.prep_date_dict" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Using dicts with keys “start”, “end” and “values” throughout. Could change to an own classe</dt><dd><p>but so far sticking to this definition. This function converts the dict e.g. by changing to timegrid
time zone</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dd</strong> (<em>dict</em>) – date dict – dict with keys “start’, “end”, “values”</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>date dict with same keys</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="eaopack.basic_classes.Timegrid.prices_to_grid">
<span class="sig-name descname"><span class="pre">prices_to_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.basic_classes.Timegrid.prices_to_grid" title="Permalink to this definition"></a></dt>
<dd><p>Convert prices into a dataframe with index self.timepoints.
If the price points already have (possibly different) timepoints, then the prices at self.timepoints
are interpolated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>prices</strong> – <p>This can be either a pandas dataframe with a Datetimeindex where each column corresponds to a price,
or a dictionary of prices. In the case of a dict, the items can have the following forms:
- array of length self.T. In this case it is assumed that the i-th entry of the array corresponds to the</p>
<blockquote>
<div><p>i-th point in self.timepoints.</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>dict where the keys are timepoints and the corresponding items depict the prices at the specific</dt><dd><p>timepoints</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>prices</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="eaopack.basic_classes.Timegrid.set_restricted_grid">
<span class="sig-name descname"><span class="pre">set_restricted_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.basic_classes.Timegrid.set_restricted_grid" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>return dictionary of arrays restricted to start/end</dt><dd><p>used typically for assets valid in restricted timeframe</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>dt.datetime</em>) – start and end of restricted arrays. Default to None –&gt; full timegrid’s start/end</p></li>
<li><p><strong>end</strong> (<em>dt.datetime</em>) – start and end of restricted arrays. Default to None –&gt; full timegrid’s start/end</p></li>
<li><p><strong>freq</strong> (<em>bool</em><em>, </em><em>optional</em>) – frequency for restr. timegrid. may be chosen less granular than tg. Defaults to None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="eaopack.basic_classes.Timegrid.set_wacc">
<span class="sig-name descname"><span class="pre">set_wacc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wacc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.basic_classes.Timegrid.set_wacc" title="Permalink to this definition"></a></dt>
<dd><p>use wacc to create discount factors for discounted cash flows
:param wacc: weighted average cost of capital
:type wacc: float</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="eaopack.basic_classes.Timegrid.values_to_grid">
<span class="sig-name descname"><span class="pre">values_to_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">array</span></span></span><a class="headerlink" href="#eaopack.basic_classes.Timegrid.values_to_grid" title="Permalink to this definition"></a></dt>
<dd><p>Assignment of data from interval data to timegrid
:param inp: each defining time interval where value is to be used
:type inp: dict</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>array of values on the time grid</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="eaopack.basic_classes.Unit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Unit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'MWh'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flow</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'MW'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.basic_classes.Unit" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Defines the units used in a node and how to convert between volums and flows (volume/time)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>volume</strong> (<em>str</em><em>, </em><em>optional</em>) – ‘volume’ is a quantity unit, typically MWh or MJ for energy. Defaults to ‘MWh’.</p></li>
<li><p><strong>flow</strong> (<em>str</em><em>, </em><em>optional</em>) – ‘flow’ is a quantity per time unit, typically MW (J/s) for energy. Defaults to ‘MW’.</p></li>
<li><p><strong>factor</strong> (<em>float</em><em>, </em><em>optional</em>) – ‘factor’ is measured in the &lt;main time unit&gt; of the optimization problem (default ‘h’).
It is the value of (volume/flow). Defaults to 1 &lt;basic time unit&gt;.
The factor for conversions may prove very handy, particularly with multi commodity models
however, it is not implemented yet. We included the factor to ensure at the start that
only unit valid choices with factor 1 are used. Conversion to be added in later version</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-eaopack.io">
<span id="input-and-output"></span><h2>Input and output<a class="headerlink" href="#module-eaopack.io" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="eaopack.io.extract_output">
<span class="sig-name descname"><span class="pre">extract_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#eaopack.portfolio.Portfolio" title="eaopack.portfolio.Portfolio"><span class="pre">Portfolio</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><span class="pre">OptimProblem</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">res</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#eaopack.optimization.Results" title="eaopack.optimization.Results"><span class="pre">Results</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#eaopack.io.extract_output" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>extract results into dataframes, containing readable</dt><dd><p>results such as asset dispatch and dcf</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portf</strong> (<a class="reference internal" href="#eaopack.portfolio.Portfolio" title="eaopack.portfolio.Portfolio"><em>Portfolio</em></a>) – portfolio optimized</p></li>
<li><p><strong>op</strong> (<a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><em>OptimProblem</em></a>) – optimization problem</p></li>
<li><p><strong>res</strong> (<a class="reference internal" href="#eaopack.optimization.Results" title="eaopack.optimization.Results"><em>Results</em></a>) – result</p></li>
<li><p><strong>prices</strong> (<em>dict</em>) – used prices. Defaults to None if not to be added to output</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns: dictionary with results</dt><dd><p>disp:    dataframe with dispatch per asset
internal_variables: dataframe with internal variables per asset
dcfs:    dataframe with discounted cash flows per asset
prices:  dataframe with nodal prices and given prices
special: dataframe with specific asset parameters (such as size in scaled assets)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eaopack.io.output_to_file">
<span class="sig-name descname"><span class="pre">output_to_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'xlsx'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csv_ger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.io.output_to_file" title="Permalink to this definition"></a></dt>
<dd><p>write extracted output to file(s)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output</strong> (<em>[</em><em>type</em><em>]</em>) – Target file (excel)</p></li>
<li><p><strong>file_name</strong> (<em>str</em>) – file name</p></li>
<li><p><strong>format_output</strong> (<em>str</em>) – xlsx, csv. format of output file. Defaults to ‘xlsx’</p></li>
<li><p><strong>csv_ger</strong> (<em>bool</em>) – English (False) or German (True) csv format. Defaults to False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-eaopack.serialization">
<span id="serialization"></span><h2>Serialization<a class="headerlink" href="#module-eaopack.serialization" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="eaopack.serialization.json_deserialize_objects">
<span class="sig-name descname"><span class="pre">json_deserialize_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.serialization.json_deserialize_objects" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eaopack.serialization.json_serialize_objects">
<span class="sig-name descname"><span class="pre">json_serialize_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#eaopack.serialization.json_serialize_objects" title="Permalink to this definition"></a></dt>
<dd><p>serialization function for JSON
:param obj: object to be serialized
:type obj: [type]</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>serialized object for json</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eaopack.serialization.load_from_json">
<span class="sig-name descname"><span class="pre">load_from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_str</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.serialization.load_from_json" title="Permalink to this definition"></a></dt>
<dd><p>create object from JSON in file or string
:param file_name: Filename containing json string. Optional
:type file_name: str
:param json_str: json string. Optional</p>
<blockquote>
<div><p>one of the two must be given</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eaopack.serialization.run_from_json">
<span class="sig-name descname"><span class="pre">run_from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_str</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name_in</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name_out</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_out</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'xlsx'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csv_ger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.serialization.run_from_json" title="Permalink to this definition"></a></dt>
<dd><ol class="arabic simple">
<li><p>create object from JSON in file or string
(2) run optimization
(3) write output to file (if file name given)</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name_in</strong> (<em>str</em>) – Filename containing json string. Optional</p></li>
<li><p><strong>json_str</strong> (<em>str</em>) – json string. Optional
one of the two must be given</p></li>
<li><p><strong>prices</strong> (<em>dict</em>) – dict of prices to be used for optimization</p></li>
<li><p><strong>timegrid</strong> (<a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><em>Timegrid</em></a>) – timegrid to be used for optimization.
Defaults to None (if portfolio comes with timegrid)</p></li>
<li><p><strong>file_name_out</strong> (<em>str</em>) – file name for output</p></li>
<li><p><strong>format_out</strong> (<em>str</em>) – xlsx, csv. format of output file. Defaults to ‘xlsx’</p></li>
<li><p><strong>csv_ger</strong> (<em>bool</em>) – English (False) or German (True) csv format. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Optimization run successfully (bool)
no file_name_out given: Results dict</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>file_name_out given</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eaopack.serialization.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.serialization.to_json" title="Permalink to this definition"></a></dt>
<dd><p>serialize object to JSON and save to file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – json serializable object</p></li>
<li><p><strong>file_name</strong> (<em>str</em>) – Filename. Defaults to None (return str)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-eaopack.stoch_lin_prog">
<span id="stochastic-linear-program"></span><h2>Stochastic linear program<a class="headerlink" href="#module-eaopack.stoch_lin_prog" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="eaopack.stoch_lin_prog.make_slp">
<span class="sig-name descname"><span class="pre">make_slp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">optim_problem</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><span class="pre">OptimProblem</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">portf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#eaopack.portfolio.Portfolio" title="eaopack.portfolio.Portfolio"><span class="pre">Portfolio</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">timegrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#eaopack.basic_classes.Timegrid" title="eaopack.basic_classes.Timegrid"><span class="pre">Timegrid</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_future</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><span class="pre">OptimProblem</span></a></span></span><a class="headerlink" href="#eaopack.stoch_lin_prog.make_slp" title="Permalink to this definition"></a></dt>
<dd><p>Create a two stage SLP (stochastic linear program) from a given OptimProblem</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>optim_problem</strong> (<a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem"><em>OptimProblem</em></a>) – start problem</p></li>
<li><p><strong>portf</strong> (<a class="reference internal" href="#eaopack.portfolio.Portfolio" title="eaopack.portfolio.Portfolio"><em>Portfolio</em></a>) – portfolio that is the basis of the optim_problem (e.g. to translate price samples to effect on LP)</p></li>
<li><p><strong>timegrid</strong> (<em>TimeGrid</em>) – timegrid consistent with optimproblem</p></li>
<li><p><strong>start_future</strong> (<em>dt.datetime</em>) – divides timegrid into present with certain prices
and future with uncertain prices, represented by samples</p></li>
<li><p><strong>samples</strong> (<em>List</em><em>[</em><em>Dict</em><em>]</em>) – price samples for future.
(!) the future part of the original portfolio is added as an additional sample</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Two stage SLP formulated as OptimProblem</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#eaopack.optimization.OptimProblem" title="eaopack.optimization.OptimProblem">OptimProblem</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-eaopack.network_graphs">
<span id="network-graphs"></span><h2>Network graphs<a class="headerlink" href="#module-eaopack.network_graphs" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="eaopack.network_graphs.create_graph">
<span class="sig-name descname"><span class="pre">create_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#eaopack.portfolio.Portfolio" title="eaopack.portfolio.Portfolio"><span class="pre">Portfolio</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#eaopack.network_graphs.create_graph" title="Permalink to this definition"></a></dt>
<dd><p>generate a network graph from a portfolio and save to pdf</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portf</strong> (<a class="reference internal" href="#eaopack.portfolio.Portfolio" title="eaopack.portfolio.Portfolio"><em>Portfolio</em></a>) – portfolio object</p></li>
<li><p><strong>file_name</strong> (<em>str</em>) – file name. Defaults to None (show plot)</p></li>
<li><p><strong>title</strong> (<em>str</em>) – plot title. Defaults to -Network graph for portfolio-</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to the Energy Asset Optimization (EAO) documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="samples.html" class="btn btn-neutral float-right" title="Samples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>